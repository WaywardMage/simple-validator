(function(a){function g(){var b=a(this);return b.is("input, textarea, select")?b.is("select")?b.find("option:selected").val():b.val():null}function h(){var b=a(this),c=(b.data("validators")||"").split(/,?\s+/),d=!0;for(var e in c){var h=c[e];if(!f[h])continue;var i=null,j=b.data(h.toLowerCase()+"-msg"),k=a.proxy(g,this)();if(f.stockNames.indexOf(h)<0){var l=a.proxy(f[h],this)(k);i=l?null:j||"Invalid value."}else i=a.proxy(f[h],this)(k,j);if(i)return i}return null}function i(d){var e,f=a(this);f.data("error-after")?e=a(f.data("error-after")).first():f.data("error-after-local")?e=a(f.data("error-after-local"),f).first():f.data("error-after-closest")?e=f.closest(f.data("error-after-closest")).first():f.data("error-after-sibling")?e=f.siblings(f.data("error-after-sibling")).first():e=f;var g=e.next(".validation-error-msg");g.popover("destroy"),g.remove();if(d){f.closest(".control-group").addClass("error");var h=c||b;g=a(h),g.addClass("validation-error-msg"),e.after(g),g.popover({title:"Error",placement:"right",trigger:"hover",content:d}),f.addClass("validation-error")}else f.closest(".control-group").removeClass("error"),f.removeClass("validation-error")}function j(b){var c=a(this);if(!b&&c.is("input, textarea, select")&&!c.data("validate-activated")&&!a.proxy(g,this)())return;c.data("validate-activated",!0);var d=a.proxy(h,this)();return a.proxy(i,this)(d),typeof d=="undefined"||d===null}function k(){a(this).find("[data-validators]").each(function(){a(this).removeData("validate-activated"),a.proxy(i,this)()})}function l(b){var c=a(this),d=!0,e=b?".validation-error":"[data-validators]",f=c.find(e);return a.proxy(k,this)(),f.each(function(){d=a.proxy(j,this)(!0)&&d}),d}function m(){var b=a(this),c=b.data("triggers-container"),d=/^(true|yes)$/i.test(b.data("triggers-container-is-global")),e=d?a(c):b.closest(c);if(e.length<1)return;e.hasClass("validate")?a.proxy(l,e[0])():a.proxy(j,e[0])(!0)}function n(){var b=a(this);if(!b.is("[data-validators]")){b.is("[data-triggers-container]")&&a.proxy(m,this)();return}if(b.is("input, select, textarea")){var c=b.is("input")?b.val():b.find("option:selected").val();if(!c&&b.data("validation-held"))return}a.proxy(j,this)()}function o(b){return a.proxy(l,this)()?!0:(b.preventDefault(),b.stopImmediatePropagation(),!1)}function p(a,b){if(!a)return;if(typeof a=="object"){var c=a;for(var d in c)f.stockNames.indexOf(d)<0&&(f[d]=c[d])}else b&&f.stockNames.indexOf(a)<0&&(f[a]=b)}var b='<span class="help-inline"><i class="icon-warning-sign"></i></span>',c=null,d=/^[0-9a-z._%+-]+@[0-9a-z.-]+\.[a-z]{2,6}$/i,e=new RegExp("^https?://[^.]+?(.[^.]+?)*$","i"),f={required:function(a,b){return a?null:b||"Required."},stringlength:function(b,c){var d=a(this);if(b){var e=parseInt(d.data("stringlength-min"),10);isNaN(e)&&(e=null);var f=parseInt(d.data("stringlength-max"),10);isNaN(f)&&(f=null);if(e>0&&f>0&&(b.length<e||b.length>f))return c||"Must be between "+e.toString()+" and "+f.toString()+" characters long.";if(e>0&&b.length<e)return c||"Must be "+e.toString()+" characters or more.";if(f>0&&b.length>f)return c||"Must be "+f.toString()+" characters or less."}return null},number:function(b,c){var d=a(this);if(!b)return null;var e=parseInt(b,10);if(isNaN(e))return c||"Not a number.";var f=parseInt(d.data("number-min"),10);isNaN(f)&&(f=null);var g=parseInt(d.data("number-max"),10);return isNaN(g)&&(g=null),f>0&&g>0&&(e<f||e>g)?c||"Must be between "+f.toString()+" and "+g.toString()+".":f>0&&e<f?c||"Must be "+f.toString()+" or greater.":g>0&&e>g?c||"Must be "+g.toString()+" or less.":null},regex:function(b,c){var d=a(this).data("regex-pattern"),e=a(this).data("regex-case-sensitive");if(d&&b){var f=new RegExp(d,e?"":"i");if(!f.test(b))return c||"Invalid value."}return null},match:function(b,c){var d=a(this).data("match-target"),e=d?a(d):null;return e&&e.length>0&&b!==e.val()?c||"Values do not match.":null},email:function(a,b){return!a||d.test(a)?null:b||"Not a valid email address."},url:function(a,b){return!a||e.test(a)?null:b||"Not a valid URL."}};a(document).ready(function(){var d=[];for(var e in f)d.push(e);f.stockNames=d,a(document).on("submit.validate","form.validate",o),a(document).on("blur.validate",'.validate input[type!="hidden"], .validate select, .validate textarea',n),a.validator={addCustomValidators:function(){var a=Array.prototype.slice.call(arguments,0);p.apply(this,a)},submitHandler:function(b,c){a(document).on("submit",b,function(a){c(a)||a.preventDefault()})},setCustomTemplate:function(d){c=d?d:b,a(".validate").each(function(){a.proxy(l,this)(!0)})}},a.fn.validator=function(b){var c=!0,d=this.hasClass("validate");return this.each(function(){switch(b.toLowerCase()){case"validate":c=d?a.proxy(l,this)()&&c:a.proxy(j,this)();break;case"reset":d?a.proxy(k,this)():a.proxy(i,this)(null)}}),c}})})(jQuery);